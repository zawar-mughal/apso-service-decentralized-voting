"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createModule = void 0;
const tslib_1 = require("tslib");
const Eta = tslib_1.__importStar(require("eta"));
const path = tslib_1.__importStar(require("path"));
const file_system_1 = require("./utils/file-system");
const createModule = async (apiBaseDir, entityName, apiType) => {
    const File = path.join(apiBaseDir, `${entityName}.module.ts`);
    // Dependencies
    const svcName = `${entityName}Service`;
    const ctrlName = `${entityName}Controller`;
    const modName = `${entityName}Module`;
    const pluralEntityName = `${entityName}s`;
    const data = {
        svcName,
        ctrlName,
        modName,
        entityName,
        pluralEntityName,
    };
    Eta.configure({
        views: path.join(__dirname, "templates"),
    });
    const content = await Eta.renderFileAsync(`./${apiType}/module-${apiType}`, data);
    (0, file_system_1.createFile)(File, content);
};
exports.createModule = createModule;
