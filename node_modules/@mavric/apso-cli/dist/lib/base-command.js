"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@oclif/core");
const child_process_1 = require("child_process");
class BaseCommand extends core_1.Command {
    async runNpmCommand(args) {
        return new Promise((resolve, reject) => {
            const command = "npm";
            const cmdStr = `${command} ${args.join(" ")}`;
            this.log(cmdStr);
            const child = (0, child_process_1.spawn)(command, args, { stdio: "inherit" });
            child.on("close", (code) => {
                if (code !== 0) {
                    reject({
                        command: cmdStr,
                    });
                    return;
                }
                resolve();
            });
        });
    }
}
exports.default = BaseCommand;
