"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const template_test_utils_1 = require("../utils/template-test-utils");
const globals_1 = require("@jest/globals");
(0, globals_1.describe)('Timestamp Templates Tests', () => {
    // Setup Eta configuration once before all tests
    (0, globals_1.beforeAll)(() => {
        (0, template_test_utils_1.configureEta)();
    });
    (0, globals_1.describe)('Timestamp Entity Template Tests', () => {
        const templatePath = './entities/entity-col-timestamp';
        const testCases = [
            {
                name: 'should render basic timestamp field correctly',
                field: {
                    name: 'createdAt',
                    dataType: 'Date',
                    nullable: false
                },
                assertions: [
                    { type: 'contains', text: "@Column({ type: 'timestamp'" },
                    { type: 'contains', text: 'nullable: false' },
                    { type: 'contains', text: 'createdAt: Date;' }
                ]
            },
            {
                name: 'should render nullable timestamp field correctly',
                field: {
                    name: 'optionalTimestamp',
                    dataType: 'Date',
                    nullable: true
                },
                assertions: [
                    { type: 'contains', text: "@Column({ type: 'timestamp'" },
                    { type: 'contains', text: 'nullable: true' },
                    { type: 'contains', text: 'optionalTimestamp: Date;' }
                ]
            }
        ];
        (0, template_test_utils_1.runTemplateTests)(templatePath, testCases);
    });
    (0, globals_1.describe)('TimestampWithTimeZone Entity Template Tests', () => {
        const templatePath = './entities/entity-col-timestamptz';
        const testCases = [
            {
                name: 'should render basic timestamptz field correctly',
                field: {
                    name: 'createdAtUtc',
                    dataType: 'Date',
                    nullable: false
                },
                assertions: [
                    { type: 'contains', text: "@Column({ type: 'timestamptz'" },
                    { type: 'contains', text: 'nullable: false' },
                    { type: 'contains', text: 'createdAtUtc: Date;' }
                ]
            },
            {
                name: 'should render nullable timestamptz field correctly',
                field: {
                    name: 'optionalTimestamptz',
                    dataType: 'Date',
                    nullable: true
                },
                assertions: [
                    { type: 'contains', text: "@Column({ type: 'timestamptz'" },
                    { type: 'contains', text: 'nullable: true' },
                    { type: 'contains', text: 'optionalTimestamptz: Date;' }
                ]
            }
        ];
        (0, template_test_utils_1.runTemplateTests)(templatePath, testCases);
    });
});
